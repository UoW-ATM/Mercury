<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>agents.airline_operating_centre.AirlineFlightPlanner &#8212; Mercury  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=039e1c02" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="agents-airline-operating-centre-airlineflightplanner">
<h1>agents.airline_operating_centre.AirlineFlightPlanner<a class="headerlink" href="#agents-airline-operating-centre-airlineflightplanner" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agents.airline_operating_centre.</span></span><span class="sig-name descname"><span class="pre">AirlineFlightPlanner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></p>
<p>AFP: Airline Flight Planner</p>
<p>Description:
Select which flight plan will be executed. This means selecting the 4D trajectory (including delayed departing time (e.g., waiting for passengers)) and possibly cancelling flight (i.e., the Airline Flight Planner decides to cancel the flight plan).</p>
<ol class="arabic simple">
<li><p>Check which flights are ready for pre-departure (less than 3 hours before their EOBT and in scheduled status) or get a request to recompute the flight plan selection of a given flight.</p></li>
<li><p>Submit flight plan which might lead to ATFM delay update.</p></li>
<li><p>Check different flight plan options and their costs.</p></li>
<li><p>Decide which flight plan to execute tactically.</p></li>
</ol>
<p>The liveness of AFP will depend on the mechanism 4DT and the FP implementation.</p>
<p>The action of RequestATFMSlot will depend on the FP mechanism:</p>
<blockquote>
<div><ul class="simple">
<li><p>FP_0: Request ATFM slot</p></li>
<li><p>FP_1 and FP_2: Request ATFM slot and then prioritise the flight and optionally request a flight swap.</p></li>
</ul>
</div></blockquote>
<p>The action of DecideOption depends on 4DT:</p>
<blockquote>
<div><ul class="simple">
<li><p>4DT_0: Rule of thumb to decide between speed-up, wait-for-passengers and cancellation</p></li>
<li><p>4DT_1 and 4DT_2: Selection of option based on cost provided by CheckFPOption</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.__init__" title="Link to this definition">¶</a></dt>
<dd><p>On initialisation of a Role, it gets a pointer to the Agent it belongs to.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.__init__" title="agents.airline_operating_centre.AirlineFlightPlanner.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(agent)</p></td>
<td><p>On initialisation of a Role, it gets a pointer to the Agent it belongs to.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_advanced" title="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_advanced"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_delay_cost_functions_advanced</span></code></a>(flight_uid)</p></td>
<td><p>This builds a cost function (function of delay with respect to scheduled departure) for a given flight, given the last available information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_air_heuristic" title="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_air_heuristic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_delay_cost_functions_air_heuristic</span></code></a>(...)</p></td>
<td><p>This is based on build_delay_cost_functions_heuristic simplified to keep minimum required to compute cost of delay based on arrival total delay with respect to sibt.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2" title="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_delay_cost_functions_dci_l2</span></code></a>(flight_uid)</p></td>
<td><p>Used to assess cost of not recovering some delay coupling wait for pax and departure delay at pushback_ready - 5.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2_old" title="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2_old"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_delay_cost_functions_dci_l2_old</span></code></a>(flight_uid)</p></td>
<td><p>Used to assess cost of not recovering some delay coupling wait for pax and departure delay at pushback_ready - 5.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic" title="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_delay_cost_functions_heuristic</span></code></a>(flight_uid)</p></td>
<td><p>This builds a cost function (function of delay with respect to scheduled departure or scheduled arrival) for a given flight, given the last available information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_flight" title="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_flight"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_delay_cost_functions_heuristic_flight</span></code></a>(...)</p></td>
<td><p>VERSION ONLY WITH FLIGHT COST</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_pax" title="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_pax"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_delay_cost_functions_heuristic_pax</span></code></a>(...)</p></td>
<td><p>VERSION ONLY WITH PAX COST</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_missing_pax_delays</span></code>(flight_uid, ...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_overnight_care</span></code>(delay, pax)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">cancel_flight</span></code>(flight_uid[, reason])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_FP_submission</span></code>(flight_uid, ...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_pax_ready_to_board</span></code>(flight_uid, ...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_FP</span></code>(flight_uid[, ac_ready_at_time, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_FP_options_from_fp_pool</span></code>(aoc_flight_info)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_cost_delay_function_air</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.compute_reactionary_delays" title="agents.airline_operating_centre.AirlineFlightPlanner.compute_reactionary_delays"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_reactionary_delays</span></code></a>(flight_uid, x)</p></td>
<td><p>Computes all the delays in the next flights of the day using the same aircraft than flight_uid.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_time_propagate_delay</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">consider_waiting_pax</span></code>(flight_uid, missing_pax)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">cost_non_pax_curfew</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.cost_not_wait_for_pax_group" title="agents.airline_operating_centre.AirlineFlightPlanner.cost_not_wait_for_pax_group"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cost_not_wait_for_pax_group</span></code></a>(flight_uid, ...)</p></td>
<td><p>Cost of not waiting for pax groups &quot;missing_pax</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.cost_wait_for_pax_group" title="agents.airline_operating_centre.AirlineFlightPlanner.cost_wait_for_pax_group"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cost_wait_for_pax_group</span></code></a>(flight_uid, pax, ...)</p></td>
<td><p>Cost of waiting for pax group for pax_delay time, i.e. cost of delaying flight_uid for pax_delay time.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.decide_options_alternatives" title="agents.airline_operating_centre.AirlineFlightPlanner.decide_options_alternatives"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decide_options_alternatives</span></code></a>(flight_uid, ...)</p></td>
<td><p>Options is decided based on delay and estimated fuel consumption.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">estimate_curfew_buffer</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">estimate_curfew_buffer_old</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">estimate_curfew_buffer_rec</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">estimate_pax_curfew_cost</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_option</span></code>(flight_uid, cost_options)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_hotspot_decision</span></code>(regulation_info, event)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_wait_pax_costs</span></code>(wait_costs)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.reassess_departure_turnaround" title="agents.airline_operating_centre.AirlineFlightPlanner.reassess_departure_turnaround"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reassess_departure_turnaround</span></code></a>(flight_uid, ...)</p></td>
<td><p>!!!Black magic warning!!!</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">return_cost_delay_function</span></code>(dest_uid, flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">return_propagation_delay_time</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_wfp_info</span></code>(flight_uid, params)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#agents.airline_operating_centre.AirlineFlightPlanner.send" title="agents.airline_operating_centre.AirlineFlightPlanner.send"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send</span></code></a>(msg)</p></td>
<td><p>Function to send messages to its own agent</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_ATFM_request</span></code>(FP, event)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_FP_update</span></code>(FP)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_cancel_flight</span></code>(flight_uid, reason)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_cancellation_flight_message</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_flight_plan_submission</span></code>(flight_uid, FP)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_flight_plan_update_no_compute</span></code>(...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_hotspot_decision</span></code>(regulation_id, event, ...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_reallocation_pax_request</span></code>(paxs)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_request_flight_plan</span></code>(flight_uid)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_request_select_option</span></code>(cost_options, ...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_eobt_processes</span></code>(flight_uid, new_eobt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_FP_acceptance</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_atfm_slot</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_cancel_flight_request</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_cost_delay_function_request</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_departing_reassessment_turnaround_request</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_fp_option_selection</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_request_flight_plan</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_request_hotspot_decision</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_request_propagation_delay_time</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_return_requested_flight_plan</span></code>(msg)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_until_FP_submission</span></code>(flight_uid, eobt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_until_delay_estimation</span></code>(flight_uid, eobt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_until_pax_check</span></code>(flight_uid, eobt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_until_push_back_ready</span></code>(flight_uid, eobt)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_advanced">
<span class="sig-name descname"><span class="pre">build_delay_cost_functions_advanced</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_advanced" title="Link to this definition">¶</a></dt>
<dd><p>This builds a cost function (function of delay with respect
to scheduled departure) for a given flight, given the last
available information. It uses explicit information on aircraft
and passenger for knock-on effects.</p>
<p>To facilitate computation, some (fixed) delays can be factorbuild_delay_cost_functionsed in already.
For instance, if one needs a function which depends only on ATFM delay,
the non-ATFM delay can be added on the fly to the function.</p>
<p>Likewise, different types of costs can be taken into account. For instance,
if one needs only the cost of of delay related to pax costs, the function
outputs only this cost.</p>
<p>‘diff’ is used when there is a factor in and one wants only the diff between
the cost with all</p>
<p>Note: if implementation is too slow, can speed it up by putting the if
statements outside the function and build different functions.
Note: this is probably slow.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_air_heuristic">
<span class="sig-name descname"><span class="pre">build_delay_cost_functions_air_heuristic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missed_connections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_air_heuristic" title="Link to this definition">¶</a></dt>
<dd><p>This is based on build_delay_cost_functions_heuristic
simplified to keep minimum required to compute cost of delay
based on arrival total delay with respect to sibt.
You call the function passing the total delay at arrival.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2">
<span class="sig-name descname"><span class="pre">build_delay_cost_functions_dci_l2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">waited_pax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2" title="Link to this definition">¶</a></dt>
<dd><p>Used to assess cost of not recovering some delay coupling wait for pax and
departure delay at pushback_ready - 5.</p>
<p>waited_pax - passenger that are going to be waited for, in order to estimate the cost better
as those are now considered on board the aircraft</p>
<dl class="simple">
<dt>This cost function built by segments:</dt><dd><ul class="simple">
<li><p>Up to EOBT: I have only potential cost of dep. delay (if SOBT &lt; EOBT)</p></li>
<li><p>After EOBT: I have potentially more delay by waiting a pax group.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2_old">
<span class="sig-name descname"><span class="pre">build_delay_cost_functions_dci_l2_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">waited_pax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_dci_l2_old" title="Link to this definition">¶</a></dt>
<dd><p>Used to assess cost of not recovering some delay coupling wait for pax and
departure delay at pushback_ready - 5.</p>
<p>waited_pax - passenger that are going to be waited for, in order to estimate the cost better
as those are now considered on board the aircraft</p>
<dl class="simple">
<dt>This cost function built by segments:</dt><dd><ul class="simple">
<li><p>Up to EOBT: I have only potentital cost of dep. delay (if SOBT &lt; EOBT)</p></li>
<li><p>After EOBT: I have potentially more delay by waiting a pax group.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic">
<span class="sig-name descname"><span class="pre">build_delay_cost_functions_heuristic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline_obt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missed_connections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiply_flights_after</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic" title="Link to this definition">¶</a></dt>
<dd><p>This builds a cost function (function of delay with respect
to scheduled departure or scheduled arrival) for a given flight, given the last
available information. It uses a heuristic for knock-on effect</p>
<p>To facilitate computation, some (fixed) delays can be factored in already.
For instance, if one needs a function which depends only on ATFM delay,
the non-ATFM delay can be added on the fly to the function.</p>
<p>Likewise, different types of costs can be taken into account. For instance,
if one needs only the cost of of delay related to pax costs, the function
outputs only this cost.</p>
<p>‘diff’ is used when there is a factor in and one wants only the diff between
the cost with all</p>
<p>If ‘missed_connections’ is used, an estimation on the number of pax missing their next flights
is done, and the corresponding cost used, considering that they all miss their flights and
have no other itinerary.</p>
<p>Note: if implementation is too slow, can speed it up by putting the if
statements outside the function and build different functions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_flight">
<span class="sig-name descname"><span class="pre">build_delay_cost_functions_heuristic_flight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline_obt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiply_flights_after</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_flight" title="Link to this definition">¶</a></dt>
<dd><p>VERSION ONLY WITH FLIGHT COST</p>
<p>This builds a cost function (function of delay with respect
to scheduled departure) for a given flight, given the last
available information. It uses a heuristic for knock-on effect</p>
<p>To facilitate computation, some (fixed) delays can be factored in already.
For instance, if one needs a function which depends only on ATFM delay,
the non-ATFM delay can be added on the fly to the function.</p>
<p>Likewise, different types of costs can be taken into account. For instance,
if one needs only the cost of of delay related to pax costs, the function
outputs only this cost.</p>
<p>‘diff’ is used when there is a factor in and one wants only the diff between
the cost with all</p>
<p>If ‘missed_connections’ is used, an estimation on the number of pax missing their next flights
is done, and the corresponding cost used, considering that they all miss their flights and
have no other itinerary.</p>
<p>Note: if implementation is too slow, can speed it up by putting the if
statements outside the function and build different functions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_pax">
<span class="sig-name descname"><span class="pre">build_delay_cost_functions_heuristic_pax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to_date_baseline_obt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiply_flights_after</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missed_connections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.build_delay_cost_functions_heuristic_pax" title="Link to this definition">¶</a></dt>
<dd><p>VERSION ONLY WITH PAX COST</p>
<p>This builds a cost function (function of delay with respect
to scheduled departure) for a given flight, given the last
available information. It uses a heuristic for knock-on effect</p>
<p>To facilitate computation, some (fixed) delays can be factored in already.
For instance, if one needs a function which depends only on ATFM delay,
the non-ATFM delay can be added on the fly to the function.</p>
<p>Likewise, different types of costs can be taken into account. For instance,
if one needs only the cost of of delay related to pax costs, the function
outputs only this cost.</p>
<p>‘diff’ is used when there is a factor in and one wants only the diff between
the cost with all</p>
<p>If ‘missed_connections’ is used, an estimation on the number of pax missing their next flights
is done, and the corresponding cost used, considering that they all miss their flights and
have no other itinerary.</p>
<p>Note: if implementation is too slow, can speed it up by putting the if
statements outside the function and build different functions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.compute_reactionary_delays">
<span class="sig-name descname"><span class="pre">compute_reactionary_delays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.compute_reactionary_delays" title="Link to this definition">¶</a></dt>
<dd><p>Computes all the delays in the next flights of the day
using the same aircraft than flight_uid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flight_uid</strong> (<em>int</em><em>,</em>) – uid of the flight having the delay</p></li>
<li><p><strong>x</strong> (<em>float</em><em>,</em>) – primary delay of the flight flight_uid</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>delay</strong> (<em>list,</em>) – Amount of delay of each flight of the day.
These delay are between 0 (buffers are large enough)
and x (no buffer).</p></li>
<li><p><strong>Note</strong> (<em>assumes no recovery strategy.</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.cost_not_wait_for_pax_group">
<span class="sig-name descname"><span class="pre">cost_not_wait_for_pax_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_pax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pax_delay</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.cost_not_wait_for_pax_group" title="Link to this definition">¶</a></dt>
<dd><p>Cost of not waiting for pax groups “missing_pax</p>
<dl class="simple">
<dt>If I don’t wait for a pax group, I will have to deal with the following potential costs:</dt><dd><ul class="simple">
<li><p>rebooking them (transfer costs) - definitely</p></li>
<li><p>soft costs</p></li>
<li><p>compensation</p></li>
<li><p>duty of care</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.cost_wait_for_pax_group">
<span class="sig-name descname"><span class="pre">cost_wait_for_pax_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pax_delay</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.cost_wait_for_pax_group" title="Link to this definition">¶</a></dt>
<dd><p>Cost of waiting for pax group for pax_delay time, i.e. cost of delaying
flight_uid for pax_delay time</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.decide_options_alternatives">
<span class="sig-name descname"><span class="pre">decide_options_alternatives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp_options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.decide_options_alternatives" title="Link to this definition">¶</a></dt>
<dd><p>Options is decided based on delay and estimated fuel consumption.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.reassess_departure_turnaround">
<span class="sig-name descname"><span class="pre">reassess_departure_turnaround</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flight_uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ac_ready_at_time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.reassess_departure_turnaround" title="Link to this definition">¶</a></dt>
<dd><p>!!!Black magic warning!!!</p>
<p>This function is tricky to understand and should not be changed lightly.
In short, it checks if the ac_ready_time is after the eobt. If not,
the flight tries to pull the eobt as close as possible to the sobt.
If the ac_ready_time is indeed after the eobt, the flight requests
another ATFM slot if missed its own. After it got another slot (or not),
it completely recomputes its options if the delay is big enough (30 minutes),
or just resubmits its delayed flight plan to the NM otherwise.</p>
<p>In any case, if the eobt is changed, the flight plan is resubmitted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agents.airline_operating_centre.AirlineFlightPlanner.send">
<span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#agents.airline_operating_centre.AirlineFlightPlanner.send" title="Link to this definition">¶</a></dt>
<dd><p>Function to send messages to its own agent</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Mercury</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Manual.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, University of Westminster, Innaxis, Luis Delgado, Gerald Gurtner.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/generated/agents.airline_operating_centre.AirlineFlightPlanner.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>